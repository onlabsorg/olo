title: olo document source file format
author: m.delbuono@gmail.com
public: true
references:
    expression: !link ./expression-tag
    template: !link ./template-tag
    markdown: !link ./markdown-tag
    link: !link ./link-tag
    composition: !link ./composition-tag
summary: !markdown |
    The olo document is represented as a YAML file. By clicking the edit button
    (top-right of the screen) or hitting `ctrl-e` on your keyboard, you can
    view and modify the document source.  
index: !composition 
    - != summary()
    - !markdown |
        The minimum content of the YAML source file is the following.

        ```
        title: "Document title"
        author: "document.author@email.com"
        public: true
        index: !template |
            Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod 
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim 
            veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea 
            commodo consequat. Duis aute irure dolor in reprehenderit in voluptate 
            velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint 
            occaecat cupidatat non proident, sunt in culpa qui officia deserunt 
            mollit anim id est laborum.
        ```

        The meaning of each data field is explained below.
    - !markdown |
        #### title:
        This field controls the name of the document shown in the header bar.
    - !markdown |
        #### author:
        This field contains the id of the owner of the document. If you are logged-in
        as the document owner, besides editing the source, you can also save the
        modified document to the server by clicking the save button or hitting
        `ctrl-s` on your keyboard.  
        If you are not logged in or if you are logged-in as a different user than the
        document author, you can change the source and render it, but you cannot save
        it. This means that once you refresh the browser, your changes will be lost.
    - !markdown |
        #### public:
        If the public field is set to `true`, then anybody can read the file. Of
        course, as said before, this is a read-only permission, because only the
        author can modify the file.  
          
        If the public field is seto to `false` or omitted, then the file can be 
        read only by its author.
    - !markdown |
        #### index:
        This field should contain the HTML markup that gets rendered. The markup
        can contain {{"{"}}{expression}} fields that will be evaluated and rendered
        using the entire YAML data structure as context.  
          
        Example:

        > ```
        > <p>Document <b>"{{"{"}}{title}}"</b> authored by {{"{"}}{author}}.</p>
        > ```
        > 
        > renders to:
        > 
        > <p>Document <b>"{{title}}"</b> authored by {{author}}</p>
    - !markdown |
        ## Custom fields
        Besides the standard fields, the author can define additional fields to be
        used in the `render` template.  
          
        Fields values can be any of the standard YAML types (number, string, map, array, etc.),
        plus some custom types specific to olo documents:

        * `name: != ...`
        * `name: !template ...`
        * `name: !markdown ...`
        * `name: !link ...`
        * `name: !composition ...`

        Each custom type is exprained below (see the source of 
        [this document](/docs/documentation/example-cylinders)
        for a practical example).

        #### !=
        {{references.expression().summary()}} [more ...]({{references.expression}})  
          
        #### !template
        {{references.template().summary()}} [more ...]({{references.template}})

        #### !markdown
        {{references.markdown().summary()}} [more ...]({{references.markdown}})

        #### !link
        {{references.link().summary()}} [more ...]({{references.link}})

        #### !composition
        {{references.composition().summary()}} [more ...]({{references.composition}})
