#!/usr/bin/env bash

case "$1" in
    
    "olojs")
        lib/olojs/bin/test $2
        ;;

    "fs-backend")
        mocha lib/http-store/test/fs-backend.js
        ;;
        
    "http-store")
        node lib/http-store/test/http-store-server.js &
        server_pid=$!
        mocha lib/http-store/test/http-store-client.js
        kill -KILL $server_pid
        wait
        ;;
        
    *)
        echo "Syntax:"
        echo "> npm test -- olojs [module]"
        echo "> npm test -- fs-backend"
        echo "> npm test -- http-store"
        echo ""
        ;;

esac
